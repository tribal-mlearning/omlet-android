(function(){var preventConstructor;Class=function(){};Class.prototype.__jsii=new Object();Class.prototype.__jsii.wasInheritedCalled=false;Class.extend=function(properties){var eClass=this.prototype;var eJsii=eClass.__jsii;function nClass(){if(!preventConstructor&&this.init){this.init.apply(this,arguments)}}preventConstructor=true;nClass.prototype=new this();preventConstructor=false;nClass.prototype.__jsii=new Object();var nJsii=nClass.prototype.__jsii;nJsii.methods={};nJsii.methodsIndex={};nJsii.metadata=nClass;for(var methodName in eJsii.methods){nJsii.methods[methodName]=[];for(var i=0;i<eJsii.methods[methodName].length;i++){nJsii.methods[methodName].push(eJsii.methods[methodName][i])}}for(var property in properties){if(typeof(properties[property])=="function"){if(!nJsii.methods[property]){nJsii.methods[property]=[]}nJsii.methods[property].push(properties[property])}}for(var methodName in nJsii.methods){nJsii.methodsIndex[methodName]=nJsii.methods[methodName].length-1}for(var methodName in nJsii.methods){var method=nJsii.methods[methodName];var execute=function(method,methodName){return function(){var oldIndex=this.__jsii.methodsIndex[methodName];if(this.__jsii.wasInheritedCalled){if(this.__jsii.methodsIndex[methodName]>0){this.__jsii.methodsIndex[methodName]--}else{throw new Error("The method "+methodName+" doesn't exist.")}}while(this.__jsii.methodsIndex[methodName]>0&&!method[this.__jsii.methodsIndex[methodName]]){this.__jsii.methodsIndex[methodName]--}if(!method[this.__jsii.methodsIndex[methodName]]){this.__jsii.methodsIndex[methodName]=oldIndex;throw new Error("The method "+methodName+" doesn't exist.")}this.__jsii.wasInheritedCalled=false;var result=method[this.__jsii.methodsIndex[methodName]].apply(this,arguments);this.__jsii.methodsIndex[methodName]=oldIndex;return result}};nClass.prototype[methodName]=execute(method,methodName)}nClass.prototype.inherited=function(){this.__jsii.wasInheritedCalled=true;return this};nClass.constructor=nClass;nClass.extend=this.extend;return nClass}})();Event=Class.extend({init:function(attributes){this.propagation=true;if(attributes){for(var i in attributes){eval("this."+i+"=attributes[i];");var camel=("get-"+i).replace(/(\-[a-z])/g,function($1){return $1.toUpperCase().replace("-","")});eval("this."+camel+" = function () { return this."+i+" };")}}},stopPropagation:function(stop){if(stop===false){this.propagation=true}else{this.propagation=false}}});EventBus=Class.extend({init:function(){this.handlersMap={}},addHandler:function(eventName,handler){var handlers=this.handlersMap[eventName];if(!handlers){handlers=[];this.handlersMap[eventName]=handlers}handlers.push(handler);return new HandlerRegistration(this,eventName,handler)},removeHandler:function(eventName,handler){var handlers=this.handlersMap[eventName];var pos=-1;for(var i=0;i<handlers.length;i++){if(handlers[i]==handler){pos=i;break}}if(pos>=0){handlers.splice(i,1)}},fireEvent:function(event,attributes){var _this=this;var eventName=event;var event=new Event(attributes);if(this.isEventHandled(eventName)){var handlers=this.handlersMap[eventName];for(var i=(handlers.length-1);i>=0;i--){handlers[i](event);if(event.propagation==false){break}}}},isEventHandled:function(eventName){return this.handlersMap[eventName]&&this.handlersMap[eventName].length>0}});eventBus=new EventBus();HandlerRegistration=Class.extend({init:function(eventBus,eventName,handler){this.eventBus=eventBus;this.eventName=eventName;this.handler=handler},removeHandler:function(){this.eventBus.removeHandler(this.eventName,this.handler)}});function checkContentSize(){if(!IS_ANDROID){return}var bodyElement=document.getElementsByTagName("body")[0];if(bodyElement!=null){if(bodyElement.offsetWidth!=window.innerWidth){bodyElement.style.width=window.innerWidth+"px"}if(bodyElement.offsetHeight!=window.innerHeight){bodyElement.style.height=window.innerHeight+"px"}}}var WaitInit=Class.extend({init:function(callback){this.callback=callback},check:function(){if(initEngine.appReady){this.callback()}else{var _this=this;setTimeout(function(){_this.check()},200)}}});var InitEngine=Class.extend({init:function(){this.callbackCount=0;this.appDomReady=false;this.appDeviceReady=false;this.appReady=false;var _this=this;this.callbackCount++;eventBus.addHandler("app.dom.ready",function(){_this.appDomReady=true;_this.sub()});if(typeof(PhoneGap)!="undefined"){this.callbackCount++;eventBus.addHandler("app.device.ready",function(){_this.appDeviceReady=true;_this.sub()})}},add:function(inc){var value=inc|1;this.callbackCount+=value},sub:function(inc){var value=inc|1;this.callbackCount-=value;if(this.callbackCount==0){this.appReady=true;eventBus.fireEvent("app.ready")}else{if(this.callbackCount<0){alert("there is something wrong on the app initialization")}}},wait:function(callback){if(this.initialized){callback()}else{var waitInit=new WaitInit(callback);waitInit.check()}}});var initEngine=new InitEngine();window.addEventListener("load",function(){eventBus.fireEvent("app.dom.ready")});if(typeof(PhoneGap)!="undefined"){eventBus.addHandler("app.dom.ready",function(){document.addEventListener("deviceready",function(){eventBus.fireEvent("app.device.ready")},false)})}var MFStoreType={};MFStoreType.GLOBAL="global";MFStoreType.SPECIFIC="specific";var MFSettingsKeys={};MFSettingsKeys.TRACKING_ENABLED="app_tracking_enabled";MFSettingsKeys.GPS_INTERVAL="app_gps_interval";MFSettingsKeys.SYNC_INTERVAL="app_sync_interval";MFSettingsKeys.SYNC_NETWORK="app_sync_network";MFSettingsKeys.DATA_USE="app_data_use";MFSettingsKeys.VERSION="app_version";var ClientPlugin=function(){};ClientPlugin.prototype.openMenuItem=function(menuItemId,callback,errorCallback){PhoneGap.exec(callback,errorCallback,"ClientPlugin","openMenuItem",[menuItemId])};ClientPlugin.prototype.openResource=function(resourceId,callback,errorCallback){PhoneGap.exec(callback,errorCallback,"ClientPlugin","openResource",[resourceId])};ClientPlugin.prototype.initialize=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","initialize",[])};ClientPlugin.prototype.terminate=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","terminate",[])};ClientPlugin.prototype.setValue=function(type,key,value,callback){PhoneGap.exec(callback,null,"ClientPlugin","setValue",[type,key,value])};ClientPlugin.prototype.getValue=function(type,key,callback){PhoneGap.exec(callback,null,"ClientPlugin","getValue",[type,key])};ClientPlugin.prototype.getUserUsername=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","getUserUsername",[])};ClientPlugin.prototype.getDeviceInfo=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","getDeviceInfo",[])};ClientPlugin.prototype.sync=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","sync",[])};ClientPlugin.prototype.track=function(sender,info,callback){PhoneGap.exec(callback,null,"ClientPlugin","track",[sender,info])};ClientPlugin.prototype.logout=function(callback){PhoneGap.exec(callback,null,"ClientPlugin","logout",[])};ClientPlugin.prototype.getCurrentCourseLocalPathRoot=function(callback,errorCallback){PhoneGap.exec(callback,errorCallback,"ClientPlugin","getCurrentCourseLocalPathRoot",[])};ClientPlugin.prototype.initializeCurrentCourseLocalTempFolder=function(callback,errorCallback){PhoneGap.exec(callback,errorCallback,"ClientPlugin","initializeCurrentCourseLocalTempFolder",[])};ClientPlugin.prototype.clearCurrentCourseLocalTempFolder=function(callback,errorCallback){PhoneGap.exec(callback,errorCallback,"ClientPlugin","clearCurrentCourseLocalTempFolder",[])};if(typeof(PhoneGap)!="undefined"){PhoneGap.addConstructor(function(){if(!window.plugins){window.plugins={}}clientPlugin=new ClientPlugin();window.plugins.clientPlugin=clientPlugin})};